<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>ONE IMG 一图</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link rel="stylesheet" href="css/style.css" />
	</head>
	<body id="oneimg">
		<div class="banner"><a href="https://haotown.cn">VIEW MY BLOG</a></div>

		<div class="header">
			<div class="header-main">
		
				<div class="title"><a href="https://app.haotown.cn"><img src="img/logo.png" style="
    vertical-align: middle;width: 60px;border-radius: 50%;">一图</a></div>
		   
				
			</div>
		</div>
<div class="changerimg" onmousemove="showoneimg()" onmouseout="hideoneimg()" onclick="showoneimg()">
        <img  id="oneimgmenuimg" src="https://www.haotown.cn/b/imgmenu.png" style="width: 70px;">
        <div id="oneimgmenu">
            <img src="https://www.haotown.cn/b/imgdown.png" style="width: 70px;"   onclick="DownImg()">
            <img src="https://www.haotown.cn/b/imgchanger.png" style="width: 70px;" onclick="ChangerImg()">
        </div>
</div>
		<div class="main-wrap"><div class="main">
			<h3>一图-精美的壁纸库.</h3>
<p>这是公益性的壁纸库 <a href="img.html">进入壁纸库</a> <br /> 
我喜欢经常欢壁纸 <br />
有时候一张壁纸就能改变一个网站的风格<br />
虽然壁纸可能有些不适合和自己的网站风格混搭<br />
一个无聊的小作品<br />
每个人都可以尽情的使用<br />
现在已有2000+壁纸 <input type="submit" name="button" class="button" value="ChangerImg" onclick="ChangerImg()">
<br /></p>
	
<h3>如何使用？</h3>
<p>壁纸地址 https://app.haotown.cn/img/bj@壁纸编号.jpg<br>
你也可以使用JavaScript代码 可以替换ID为 oneimg的backgroundImage<br />
这是本页面的js
<br>
<code> 
	GetOneImg(); //获取随机图片序号
	ChangerImg();//进行更换图片操作
	
	setInterval(ChangerImg,8000);//重复更换图片
	var OneImg,OneImgnumber;
	function GetOneImg(){ 
	OneImg=Math.round(Math.random() * 2200);
	 }

	function ChangerImg(){
	console.log("背景图已更换为"+OneImg);//调试图片
	OneImgnumber=OneImg;
	document.getElementById("oneimg").style.backgroundImage = "url(https://app.haotown.cn/img/bj@"+OneImg+".jpg)";
	GetOneImg();
	LoadImg("https://app.haotown.cn/img/bj@"+OneImg+".jpg");//预先加载下一张图片
	console.log("开始预加载"+OneImg)	 
	}
</code><br />
你也可以增加手机页面
<br>
if(navigator.userAgent.match(/(iPhone|iPod|Android|ios|Mobile)/i)){
     //手机用户执行代码区域
  }
    else {
         
        setInterval(ChangeOneImg,8000);//非手机用户重复更换图片   
        }
</code>
当然 你也可以 用cookie储存下壁纸编号 节约页面加载时间<br />
<code> 
function showoneimg(){
        document.getElementById('oneimgmenu').style.display='block';
        document.getElementById('oneimgmenuimg').style.display='none';
    }
    function hideoneimg(){
        document.getElementById('oneimgmenu').style.display='none';
        document.getElementById('oneimgmenuimg').style.display='block';
    }
    function getCookie(Name) {
    var cookieName = encodeURIComponent(Name) + "=",  
        returnvalue = "",
        cookieStart=document.cookie.indexOf(cookieName),
        cookieEnd=null;
    if (cookieStart>-1) {
        cookieEnd = document.cookie.indexOf(";",cookieStart);
        if (cookieEnd == -1){
            cookieEnd = document.cookie.length;
        }
        returnvalue=decodeURIComponent(document.cookie.substring(cookieStart+cookieName.length, cookieEnd));  
    } 
    return returnvalue;
 }
  
window.onload=function(){
    Bcookie=getCookie("oneimg");
    if(Bcookie==""){
       ChangerImg()
    }
    else{
         OneImg = "https://app.haotown.cn/img/bj@" + Bcookie + ".jpg";
         document.getElementById("oneimg").style.backgroundImage = "url(" + OneImg + ")";
    }
}
function ChangerImg(){
        OneImgnumber=Math.round(Math.random() * 2200);
        document.cookie="oneimg="+OneImgnumber; 
        OneImg = "https://app.haotown.cn/img/bj@" + OneImgnumber + ".jpg";
        document.getElementById("oneimg").style.backgroundImage = "url(" + OneImg + ")";
}
function DownImg(){
    window.open("https://app.haotown.cn/img.html?img=" +getCookie("oneimg"));
}
</code> <br />
具体可以看下<a href="https://www.haotown.cn/archives/49.html" title="教程">教程</a>
或者看下 <a href="testoneimg1.html" title="示例">示例页面</a>
</p>
<h3>关于我</h3>

<p>喜欢这个项目的可以关注我的博客<a href="https://www.haotown.cn">HAOTOWN</a> <br>
	虽然自己水平很低 还有严重的拖延症<br>
	和各位菊苣之间有很大的差距<br />
企鹅：1051667334<br>
邮箱：UREYGT@GMAIL.COM<br>
微博：@HAOCITY<br>

</p>
			

		</div></div>
		<div class="footer"><div class="footer-main">一图 维护者 haocity(疯狂减肥带)  2016<br />With Tencent Cloud VeryCloud Qiniu </div></div>
		<script type="text/javascript" src="js/oneimg.js" ></script>
	</body>
</html>
